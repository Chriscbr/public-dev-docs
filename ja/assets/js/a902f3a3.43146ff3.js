"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[6422],{5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>u});var r=t(6540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},y=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),p=c(t),y=i,u=p["".concat(l,".").concat(y)]||p[y]||m[y]||o;return t?r.createElement(u,s(s({ref:n},d),{},{components:t})):r.createElement(u,s({ref:n},d))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,s=new Array(o);s[0]=y;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a[p]="string"==typeof e?e:i,s[1]=a;for(var c=2;c<o;c++)s[c]=t[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}y.displayName="MDXCreateElement"},2257:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var r=t(8168),i=(t(6540),t(5680));const o={sidebar_position:1,sidebar_label:"Vector Index",title:"Getting started with Momento Vector Index in Python",description:"Learn the basic building blocks for writing Python code to interact with Momento Vector Index.",keywords:["momento","cache","caching","vector index","llm","large language model","vector search","redis","serverless","sdk","sdks","api","python","examples","resources","getting started","quick start","web","browser"]},s="Python\u3067Momento Vector Index\u3092\u59cb\u3081\u308b",a={unversionedId:"sdks/python/vector-index",id:"sdks/python/vector-index",title:"Getting started with Momento Vector Index in Python",description:"Learn the basic building blocks for writing Python code to interact with Momento Vector Index.",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/sdks/python/vector-index.md",sourceDirName:"sdks/python",slug:"/sdks/python/vector-index",permalink:"/ja/sdks/python/vector-index",draft:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/sdks/python/vector-index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Vector Index",title:"Getting started with Momento Vector Index in Python",description:"Learn the basic building blocks for writing Python code to interact with Momento Vector Index.",keywords:["momento","cache","caching","vector index","llm","large language model","vector search","redis","serverless","sdk","sdks","api","python","examples","resources","getting started","quick start","web","browser"]}},l={},c=[{value:"Install the Momento SDK",id:"install-the-momento-sdk",level:2},{value:"API\u30ad\u30fc\u306e\u8a2d\u5b9a",id:"api\u30ad\u30fc\u306e\u8a2d\u5b9a",level:2},{value:"\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b",id:"\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b",level:2},{value:"Momento Vector Index\u306b\u65b0\u3057\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b",id:"momento-vector-index\u306b\u65b0\u3057\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b",level:2},{value:"\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5b58\u5728\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b",id:"\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5b58\u5728\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b",level:2},{value:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9805\u76ee\u3092\u4e00\u62ec\u3057\u3066\u66f8\u304d\u8fbc\u3080",id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9805\u76ee\u3092\u4e00\u62ec\u3057\u3066\u66f8\u304d\u8fbc\u3080",level:2},{value:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u691c\u7d22",id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u691c\u7d22",level:2},{value:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u9805\u76ee\u3092\u524a\u9664\u3059\u308b",id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u9805\u76ee\u3092\u524a\u9664\u3059\u308b",level:2},{value:"Deleting an index",id:"deleting-an-index",level:2}],d={toc:c},p="wrapper";function m(e){let{components:n,...t}=e;return(0,i.yg)(p,(0,r.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"python\u3067momento-vector-index\u3092\u59cb\u3081\u308b"},"Python\u3067Momento Vector Index\u3092\u59cb\u3081\u308b"),(0,i.yg)("p",null,"Python\u3068Momento Vector Index\u3092\u3059\u3050\u306b\u4f7f\u3044\u59cb\u3081\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u3001\u3053\u306e\u30da\u30fc\u30b8\u306b\u306f\u5fc5\u8981\u306a\u57fa\u672c\u7684\u306aAPI\u30b3\u30fc\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002"),(0,i.yg)("h2",{id:"install-the-momento-sdk"},"Install the Momento SDK"),(0,i.yg)("p",null,"Momento Python SDK \u306f ",(0,i.yg)("a",{parentName:"p",href:"https://pypi.org/project/momento/"},"pypi as ",(0,i.yg)("inlineCode",{parentName:"a"},"momento"))," \u304b\u3089\u5165\u624b\u3067\u304d\u307e\u3059\u3002"),(0,i.yg)("p",null,"Python\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bpip\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\uff1a"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"pip install momento\n")),(0,i.yg)("h2",{id:"api\u30ad\u30fc\u306e\u8a2d\u5b9a"},"API\u30ad\u30fc\u306e\u8a2d\u5b9a"),(0,i.yg)("p",null,"Momento\u3067\u8a8d\u8a3c\u3059\u308b\u306b\u306f",(0,i.yg)("a",{parentName:"p",href:"/cache/develop/authentication/api-keys"},"Momento API key"),"\u304c\u5fc5\u8981\u3067\u3059\u3002\u3067\u304d\u308c\u3070\u3001",(0,i.yg)("a",{parentName:"p",href:"https://console.gomomento.com/caches"},"Momento Web Console")," \u304b\u3089\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3057\u305f\u3089\u3001\u305d\u308c\u3092\u74b0\u5883\u5909\u6570\u306b\u4fdd\u5b58\u3057\u3001Momento\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u305d\u308c\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\uff1a"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"export MOMENTO_API_KEY=<your Momento token here>\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Note"),":\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316\u306e\u305f\u3081\u306b\u306f\u3001\u30c8\u30fc\u30af\u30f3\u3092\u74b0\u5883\u5909\u6570\u3067\u306f\u306a\u304f\u3001AWS Secret Manager\u3084GCP Secret Manager\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u683c\u7d0d\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3060\u304c\u3001\u3053\u3053\u3067\u306f\u30c7\u30e2\u306e\u305f\u3081\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002"),(0,i.yg)("h2",{id:"\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b"},"\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b"),(0,i.yg)("p",null,"\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u5fc5\u8981\u306a\u30a4\u30f3\u30dd\u30fc\u30c8\u3001\u30af\u30e9\u30b9\u5b9a\u7fa9\u3001\u305d\u3057\u3066\u4ed6\u306e\u5404\u95a2\u6570\u304c\u547c\u3073\u51fa\u3059\u5fc5\u8981\u306e\u3042\u308b ",(0,i.yg)("inlineCode",{parentName:"p"},"PreviewVectorIndexClient")," \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"from momento import (\n    CredentialProvider,\n    PreviewVectorIndexClient,\n    VectorIndexConfigurations,\n)\n\nfrom momento.requests.vector_index import (\n    ALL_METADATA,\n    Item,\n    SimilarityMetric\n)\nfrom momento.responses.vector_index import (\n    UpsertItemBatch,\n    CreateIndex,\n    DeleteIndex,\n    DeleteItemBatch,\n    ListIndexes,\n    Search,\n)\n\nclient = PreviewVectorIndexClient(\n    configuration=VectorIndexConfigurations.Default.latest(),\n    credential_provider=CredentialProvider.from_environment_variable('MOMENTO_API_KEY')\n  )\n")),(0,i.yg)("p",null,"\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u3059\u3067\u306b ",(0,i.yg)("inlineCode",{parentName:"p"},"PreviewVectorIndexClient")," \u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u3059\u308b\u3002"),(0,i.yg)("h2",{id:"momento-vector-index\u306b\u65b0\u3057\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b"},"Momento Vector Index\u306b\u65b0\u3057\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b"),(0,i.yg)("p",null,"\u3053\u306e\u30b9\u30cb\u30da\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u65b0\u3057\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002similarity_metric",(0,i.yg)("inlineCode",{parentName:"p"},"\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306f "),"SimilarityMetric.COSINE_SIMILARITY` \u3067\u3059\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'index_name = "my_index"\n # The number of dimensions in your vectors\nnum_dimensions = 2\nsimilarity_metric = SimilarityMetric.COSINE_SIMILARITY\n\ncreate_index_response = client.create_index(index_name, num_dimensions, similarity_metric)\nif isinstance(create_index_response, CreateIndex.Success):\n    print(f"Index with name {index_name!r} successfully created!")\nelif isinstance(create_index_response, CreateIndex.IndexAlreadyExists):\n    print(f"Index with name {index_name!r} already exists")\nelif isinstance(create_index_response, CreateIndex.Error):\n    print(f"Error while creating index: {create_index_response.message}")\n')),(0,i.yg)("h2",{id:"\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5b58\u5728\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b"},"\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5b58\u5728\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b"),(0,i.yg)("p",null,"\u3053\u306e\u4f8b\u3067\u306f\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u5185\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u30ea\u30b9\u30c8\u3057\u307e\u3059\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'list_indexes_response = client.list_indexes()\nif isinstance(list_indexes_response, ListIndexes.Success):\n    for index in list_indexes_response.index_names:\n        print(f"Account has an index with name: {index!r}")\nelif isinstance(list_indexes_response, ListIndexes.Error):\n    print(f"Error while listing indexes: {list_indexes_response.message}")\n')),(0,i.yg)("h2",{id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9805\u76ee\u3092\u4e00\u62ec\u3057\u3066\u66f8\u304d\u8fbc\u3080"},"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9805\u76ee\u3092\u4e00\u62ec\u3057\u3066\u66f8\u304d\u8fbc\u3080"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"upsert_item_batch"),"\u64cd\u4f5c\u306e\u7c21\u5358\u306a\u4f8b\u3067\u3059\u3002\u3053\u306e\u64cd\u4f5c\u306f\u30a2\u30a4\u30c6\u30e0\u304c\u5b58\u5728\u3057\u306a\u3051\u308c\u3070\u633f\u5165\u3057\u3001\u5b58\u5728\u3059\u308c\u3070\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'index_name = "my_index"\nitems = [\n        Item(id="test_item_1", vector=[1.0, 2.0], metadata={"key1": "value1"}),\n        Item(id="test_item_2", vector=[3.0, 4.0], metadata={"key2": "value2"}),\n        Item(id="test_item_3", vector=[5.0, 6.0], metadata={"key1": "value3", "key3": "value3"}),\n]\n\nprint(f"Upserting items {items}")\nupsert_response = client.upsert_item_batch(\n    index_name,\n    items=items,\n)\nif isinstance(upsert_response, UpsertItemBatch.Success):\n    print("Successfully upserted items")\nelif isinstance(upsert_response, UpsertItemBatch.Error):\n    print(f"Error while adding items to index {index_name!r}: {upsert_response.message}")\n')),(0,i.yg)("h2",{id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u691c\u7d22"},"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u691c\u7d22"),(0,i.yg)("p",null,"\u3053\u308c\u306f ",(0,i.yg)("inlineCode",{parentName:"p"},"query_vector")," \u306b\u30de\u30c3\u30c1\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u4e0a\u4f4d k \u500b\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u691c\u7d22\u64cd\u4f5c\u306e\u4f8b\u3067\u3059\u3002metadata_fields` \u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3042\u308a\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u8fd4\u3059\u30e1\u30bf\u30c7\u30fc\u30bf\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002"),(0,i.yg)("p",null,"\u3053\u3053\u3067\u306f ",(0,i.yg)("inlineCode",{parentName:"p"},"[1.0, 2.0]")," \u306e ",(0,i.yg)("inlineCode",{parentName:"p"},"query_vector")," \u3092\u4f7f\u3044\u3001\u4e0a\u4f4d2\u3064\u306e\u7d50\u679c\u3092\u6c42\u3081\u3066\u3044\u307e\u3059\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'index_name = "my_index"\nquery_vector = [1.0, 2.0]\ntop_k = 2\n\nprint(f"Searching index {index_name} with query_vector {query_vector} and top {top_k} elements")\nsearch_response = client.search(index_name, query_vector=query_vector, top_k=top_k, metadata_fields=ALL_METADATA)\nif isinstance(search_response, Search.Success):\n    print(f"Search succeeded with {len(search_response.hits)} matches")\nelif isinstance(search_response, Search.Error):\n    print(f"Error while searching on index {index_name}: {search_response.message}")\n')),(0,i.yg)("h2",{id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u9805\u76ee\u3092\u524a\u9664\u3059\u308b"},"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u9805\u76ee\u3092\u524a\u9664\u3059\u308b"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"delete_item_batch")," \u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u9805\u76ee\u3092\u524a\u9664\u3059\u308b\u4f8b\u3067\u3059\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'index_name = "my_index"\nitem_ids_to_delete = ["test_item_1", "test_item_3"]\n\ndelete_response = client.delete_item_batch(index_name, ids=item_ids_to_delete)\nif isinstance(delete_response, DeleteItemBatch.Success):\n    print("Successfully deleted items")\nelif isinstance(delete_response, DeleteItemBatch.Error):\n    print(f"Error while deleting items {delete_response.message}")\n')),(0,i.yg)("h2",{id:"deleting-an-index"},"Deleting an index"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"delete_index"),"\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u524a\u9664\u3059\u308b\u4f8b\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'index_name = "my_index"\n\ndelete_response = client.delete_index(index_name)\nif isinstance(delete_response, DeleteIndex.Success):\n    print("Successfully deleted index")\nelif isinstance(delete_response, DeleteIndex.Error):\n    print(f"Error while deleting index {delete_response.message}")\n')))}m.isMDXComponent=!0}}]);