"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[2139],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),m=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=m(e.components);return o.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=m(n),u=a,p=d["".concat(l,".").concat(u)]||d[u]||h[u]||r;return n?o.createElement(p,i(i({ref:t},s),{},{components:n})):o.createElement(p,i({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var m=2;m<r;m++)i[m]=n[m];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2515:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>m});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_position:1,sidebar_label:"Cheat Sheet",sidebar_class_name:"sidebar-item-go",title:"Cheat Sheet for Go",description:"Get started really quickly coding using Go with Momento Cache",pagination_next:null},i="Cheat Sheet for Go with Momento Cache",c={unversionedId:"develop/sdks/go/cheat-sheet",id:"develop/sdks/go/cheat-sheet",title:"Cheat Sheet for Go",description:"Get started really quickly coding using Go with Momento Cache",source:"@site/docs/develop/sdks/go/cheat-sheet.md",sourceDirName:"develop/sdks/go",slug:"/develop/sdks/go/cheat-sheet",permalink:"/ja/develop/sdks/go/cheat-sheet",draft:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/develop/sdks/go/cheat-sheet.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Cheat Sheet",sidebar_class_name:"sidebar-item-go",title:"Cheat Sheet for Go",description:"Get started really quickly coding using Go with Momento Cache",pagination_next:null},sidebar:"tutorialSidebar",previous:{title:"Go",permalink:"/ja/develop/sdks/go/"}},l={},m=[{value:"Requirements",id:"requirements",level:2},{value:"Create project and install the Momento client library",id:"create-project-and-install-the-momento-client-library",level:2},{value:"Copy and paste the code",id:"copy-and-paste-the-code",level:2},{value:"Import libraries and connect to return a CacheClient object",id:"import-libraries-and-connect-to-return-a-cacheclient-object",level:2},{value:"Create a new cache in Momento Cache",id:"create-a-new-cache-in-momento-cache",level:2},{value:"Write an item to the cache",id:"write-an-item-to-the-cache",level:2},{value:"Read an item from the cache",id:"read-an-item-from-the-cache",level:2},{value:"Running the code",id:"running-the-code",level:2}],s={toc:m};function h(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cheat-sheet-for-go-with-momento-cache"},"Cheat Sheet for Go with Momento Cache"),(0,a.kt)("p",null,"If you need to get going quickly with Go and Momento Cache, this page contains the basic API calls you'll need. ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/momentohq/client-sdk-go"},"Check the Go SDK page")," for this code in a full file format."),(0,a.kt)("h2",{id:"requirements"},"Requirements"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://go.dev/dl/"},"Go installed")),(0,a.kt)("li",{parentName:"ul"},"A Momento Auth Token. Generate one using the form on ",(0,a.kt)("a",{parentName:"li",href:"https://www.gomomento.com/"},"Momento web site")," or using the Momento CLI.")),(0,a.kt)("h2",{id:"create-project-and-install-the-momento-client-library"},"Create project and install the Momento client library"),(0,a.kt)("p",null,"If you don't already have a go module created, first run this command in your directory of choice."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cli"},"# Add an environment variable with your Momento auth token.\nexport MOMENTO_AUTH_TOKEN=<auth token that was emailed to you>\n\n# Create a new module directory\nmkdir my-example-project\ncd ./my-example-project\n\n# Create a module with go.mod file in the directory.\n# See https://go.dev/doc/modules/gomod-ref for full docs on go mod\ngo mod init example/my-example-project\n\n# Then, run this to get the Momento SDK.\ngo get github.com/momentohq/client-sdk-go\n")),(0,a.kt)("h2",{id:"copy-and-paste-the-code"},"Copy and paste the code"),(0,a.kt)("p",null,"To see the entire code sample to run, you can find that in ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/momentohq/client-sdk-go"},"the Momento Go SDK repository"),"."),(0,a.kt)("p",null,"Let's step through what that code is doing though."),(0,a.kt)("h2",{id:"import-libraries-and-connect-to-return-a-cacheclient-object"},"Import libraries and connect to return a CacheClient object"),(0,a.kt)("p",null,"This code sets up the main function, the necessary imports, and getting the momento auth token from the environment variables that each of the other functions will utilize."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "log"\n    "time"\n\n    "github.com/momentohq/client-sdk-go/auth"\n    "github.com/momentohq/client-sdk-go/config"\n    "github.com/momentohq/client-sdk-go/momento"\n    "github.com/momentohq/client-sdk-go/responses"\n\n    // We use this module to generate random keys and data later\n    "github.com/google/uuid"\n)\n\nfunc main() {\n    ctx := context.Background()\n    var credentialProvider, err = auth.NewEnvMomentoTokenProvider("MOMENTO_AUTH_TOKEN")\n    if err != nil {\n        panic(err)\n    }\n\n    const (\n        cacheName             = "my-test-cache"\n        itemDefaultTTLSeconds = 60\n    )\n')),(0,a.kt)("h2",{id:"create-a-new-cache-in-momento-cache"},"Create a new cache in Momento Cache"),(0,a.kt)("p",null,"Use this function to create a new cache in your account."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"// Create Cache\n_, err = client.CreateCache(ctx, &momento.CreateCacheRequest{\n    CacheName: cacheName,\n})\nif err != nil {\n    panic(err)\n}\n")),(0,a.kt)("h2",{id:"write-an-item-to-the-cache"},"Write an item to the cache"),(0,a.kt)("p",null,"A simple example of doing a set operation. In the client.set call, the TTL it optional. If you did pass it in, this would override the default TTL value set with the client connection object."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'// Sets key with default TTL and gets value with that key\nkey := uuid.NewString()\nvalue := uuid.NewString()\nlog.Printf("Setting key: %s, value: %s\\n", key, value)\n_, err = client.Set(ctx, &momento.SetRequest{\n    CacheName: cacheName,\n    Key:       momento.String(key),\n    Value:     momento.String(value),\n})\nif err != nil {\n    panic(err)\n}\n')),(0,a.kt)("h2",{id:"read-an-item-from-the-cache"},"Read an item from the cache"),(0,a.kt)("p",null,"This is an example of a simple read operation to get an item from a cache."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'log.Printf("Getting key: %s\\n", key)\nresp, err := client.Get(ctx, &momento.GetRequest{\n    CacheName: cacheName,\n    Key:       momento.String(key),\n})\nif err != nil {\n    panic(err)\n}\n\n// See if you got a cache hit or cache miss\nswitch r := resp.(type) {\ncase *responses.GetHit:\n    log.Printf("Lookup resulted in cache HIT. value=%s\\n", r.ValueString())\ncase *responses.GetMiss:\n    log.Printf("Look up did not find a value key=%s", key)\n}\n')),(0,a.kt)("h2",{id:"running-the-code"},"Running the code"),(0,a.kt)("p",null,"Don't forget to copy and paste the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/momentohq/client-sdk-go"},"entire file"),", then run this command to execute the code."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cli"},"go run main.go\n")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Beyond these basic API calls check out the ",(0,a.kt)("a",{parentName:"p",href:"/ja/develop/api-reference/"},"API reference page")," for more information on the full assortment of Momento API calls."),(0,a.kt)("p",{parentName:"admonition"},"For more code examples, check out the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/momentohq/client-sdk-go/tree/main/examples"},"Momento Go SDK repo"),".")))}h.isMDXComponent=!0}}]);