<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-serverless-cache-walkthrough/adding-a-cache-to-serverless">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Introduction and setup | Momento Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://momentohq.github.io/docs/serverless-cache-walkthrough/adding-a-cache-to-serverless"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction and setup | Momento Docs"><meta data-rh="true" name="description" content="In this tutorial, you will learn how to add a cache to your serverless application with AWS Lambda. To do so, you will use Momento, a cache built for​​ deep integration with serverless applications. Momento combines instant, elastic, cache storage with a pay-for-value pricing model and blazing-fast performance."><meta data-rh="true" property="og:description" content="In this tutorial, you will learn how to add a cache to your serverless application with AWS Lambda. To do so, you will use Momento, a cache built for​​ deep integration with serverless applications. Momento combines instant, elastic, cache storage with a pay-for-value pricing model and blazing-fast performance."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://momentohq.github.io/docs/serverless-cache-walkthrough/adding-a-cache-to-serverless"><link data-rh="true" rel="alternate" href="https://momentohq.github.io/docs/serverless-cache-walkthrough/adding-a-cache-to-serverless" hreflang="en"><link data-rh="true" rel="alternate" href="https://momentohq.github.io/docs/serverless-cache-walkthrough/adding-a-cache-to-serverless" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Momento Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Momento Docs Atom Feed">




<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-THBDHDQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/assets/css/styles.071fe772.css">
<link rel="preload" href="/assets/js/runtime~main.f9d22799.js" as="script">
<link rel="preload" href="/assets/js/main.eec44cb4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.gomomento.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.svg" alt="Momento Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Momento Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.gomomento.com/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/momentohq/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github</a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-title">Table of Contents</span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-item-overview"><a class="menu__link" href="/docs/overview">Momento</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-item-getting-started"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-item-how-it-works"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/how-it-works">How it works</a><button aria-label="Toggle the collapsible sidebar category &#x27;How it works&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-item-pricing"><a class="menu__link" href="/docs/pricing">Pricing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-item-limits"><a class="menu__link" href="/docs/limits">Limits</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-item-caching-concepts"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/caching-concepts">Caching Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Caching Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-item-guides"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guides">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-item-api-reference"><a class="menu__link" href="/docs/API-reference">API Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-item-walkthrough"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/serverless-cache-walkthrough">Walkthrough - Adding a cache to a serverless application</a><button aria-label="Toggle the collapsible sidebar category &#x27;Walkthrough - Adding a cache to a serverless application&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/serverless-cache-walkthrough/adding-a-cache-to-serverless">Introduction and setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/serverless-cache-walkthrough/deploying-a-basic-serverless-application">Deploying a basic serverless application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/serverless-cache-walkthrough/configuring-momento">Configuring Momento in Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/serverless-cache-walkthrough/read-aside-caching-with-momento">Read-aside caching with Momento</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/serverless-cache-walkthrough/write-aside-caching-with-momento">Write-aside caching with Momento</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/serverless-cache-walkthrough"><span itemprop="name">Walkthrough - Adding a cache to a serverless application</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction and setup</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Introduction and setup</h1><p>In this tutorial, you will learn how to add a cache to your serverless application with AWS Lambda. To do so, you will use Momento, a cache built for​​ deep integration with serverless applications. Momento combines instant, elastic, cache storage with a pay-for-value pricing model and blazing-fast performance.</p><p>As you work through this tutorial, you will build a simple account management service for your application. You&#x27;ll have endpoints for creating users and organizations and for adding users to an organization via memberships. Finally, you&#x27;ll be able to check whether a user belongs to an organization, a frequently used authorization pattern.</p><p>This tutorial includes conceptual material about implementing caching and building serverless applications as well as practical, step-by-step tips for deploying and interacting with your account management service.</p><p>One of the key concepts we will discuss is the different approaches to caching, including the tradeoffs of using different caching strategies. To learn more about this, check out our page on <a href="/docs/caching-concepts/caching-strategies-and-patterns">caching strategies and patterns</a>.</p><p>Additionally, this tutorial will show practical aspects of integrating Momento with AWS Lambda. If you want a more succinct reference, check out our guide on <a href="/docs/guides/caching-with-AWS-lambda">caching with AWS Lambda</a>.</p><p>This tutorial has five steps:</p><ol><li><p>Introduction to the tutorial and environment setup.</p></li><li><p>Deploy a serverless application with API Gateway, Lambda, and DynamoDB.</p></li><li><p>Install and configure Momento for your application.</p></li><li><p>Implement a read-aside cache pattern in your application.</p></li><li><p>Use a write-aside cache pattern for improved performance and cache freshness.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-were-building">What we&#x27;re building<a class="hash-link" href="#what-were-building" title="Direct link to heading">​</a></h2><p>We will be building an account management service for a larger SaaS application.</p><p>Our application has support for both Users and Organizations, and Users may take actions on behalf of Organizations. In order to support this, many parts of our application will need to ensure a particular User belongs to a particular Organization.</p><p><img loading="lazy" alt="System architecture" src="/assets/images/architecture-d18fda14b76897b0667227fa9c189210.png" width="1260" height="890" class="img_ev3q"></p><p>To handle this, we will be modeling three entities in our service:</p><ul><li><p>A <em>User</em> entity, which represents a single human user of our application;</p></li><li><p>An <em>Organization</em> entity, which represents a group of Users that manage resources within our application;</p></li><li><p>A <em>Membership</em> entity, which represents a relationship between a User and an Organization such that the User is allowed to take certain actions within the Organization.</p></li></ul><p>To interact with these entites, we will set up the following HTTP endpoints:</p><ul><li><p><em>CreateUser</em> (<code>POST /users</code>), which is used for User signup;</p></li><li><p><em>CreateOrganization</em> (<code>POST /organization</code>), which is called by a User to create a new Organization;</p></li><li><p><em>AddUserToOrganization</em> (<code>POST /organization/{organizationName}/members</code>), which is called by an existing member of an Organization to add a new User to an Organization;</p></li><li><p><em>UserInOrganization</em> (<code>GET /organization/{organizationName}/members/{username}</code>), which is called to see if a User belongs to an Organization and fetch details about the User&#x27;s role in the Organization.</p></li></ul><p>Our application is necessarily simplified in order to focus on the key points we want to teach. There are no endpoints to update Users or Organizations, to list all Members of an Organization, or to remove a User from an Organization. Further, we won&#x27;t have a true authentication system and will rely on crude measures like passing in a username via an HTTP header.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a class="hash-link" href="#setup" title="Direct link to heading">​</a></h2><p>Before we start, let&#x27;s get your environment set up so that you can follow along with the steps in this tutorial.</p><p>First, the tutorial uses Node.js and related dependencies, so you will need to install that on your machine. Please follow the installation instructions on the <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">Node.js downloads page</a>.</p><p>Second, we will use the <a href="https://www.serverless.com/framework/docs" target="_blank" rel="noopener noreferrer">Serverless Framework</a> to build and deploy our serverless application. The Serverless Framework is a CLI tool written in Node.js and can be installed by running the following command in your terminal:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g serverless</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Third, we will be deploying an application to Amazon Web Services (AWS). To do so, you will need an AWS account and credentials in your environment. If you don&#x27;t have AWS credentials configured in your local environment, follow the guide from the Serverless Framework documentation on <a href="https://www.serverless.com/framework/docs/providers/aws/guide/credentials/" target="_blank" rel="noopener noreferrer">configuring your environment</a>.</p><p>Finally, all the code for this tutorial is available in a GitHub repository. You can clone the code to your machine using the following command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone git@github.com:momentohq/serverless-tutorial.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now that we&#x27;ve set up our environment, let&#x27;s move on to the next step where we will deploy our serverless application.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/momentohq/public-dev-docs/tree/main/docs/serverless-cache-walkthrough/1-adding-a-cache-to-serverless.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/serverless-cache-walkthrough"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Walkthrough - Adding a cache to a serverless application</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/serverless-cache-walkthrough/deploying-a-basic-serverless-application"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying a basic serverless application</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-were-building" class="table-of-contents__link toc-highlight">What we&#39;re building</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Documentation Home</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/3HkAKjUZGq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/momentohq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.gomomento.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/momentohq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/footer_logo.svg" alt="Momento Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/footer_logo.svg" alt="Momento Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2022 Momento, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f9d22799.js"></script>
<script src="/assets/js/main.eec44cb4.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THBDHDQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>