"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[12],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=i,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return n?r.createElement(h,a(a({ref:t},u),{},{components:n})):r.createElement(h,a({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294),i=n(6010);const o="tabItem_Ymn6";function a(e){let{children:t,hidden:n,className:a}=e;return r.createElement("div",{role:"tabpanel",className:(0,i.Z)(o,a),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(7462),i=n(7294),o=n(6010),a=n(2466),l=n(6550),s=n(1980),c=n(7392),u=n(12);function d(e){return function(e){var t;return(null==(t=i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:t.filter(Boolean))??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:i}}=e;return{value:t,label:n,attributes:r,default:i}}))}function p(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const r=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(o),(0,i.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=p(e),[a,l]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[s,c]=h({queryString:n,groupId:r}),[d,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,u.Nk)(n);return[r,(0,i.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:r}),b=(()=>{const e=s??d;return m({value:e,tabValues:o})?e:null})();(0,i.useLayoutEffect)((()=>{b&&l(b)}),[b]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),f(e)}),[c,f,o]),tabValues:o}}var b=n(2389);const y="tabList__CuJ",v="tabItem_LNqP";function g(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:c}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,a.o5)(),p=e=>{const t=e.currentTarget,n=u.indexOf(t),r=c[n].value;r!==l&&(d(t),s(r))},m=e=>{var t;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=u.indexOf(e.currentTarget)+1;n=u[t]??u[0];break}case"ArrowLeft":{const t=u.indexOf(e.currentTarget)-1;n=u[t]??u[u.length-1];break}}null==(t=n)||t.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},c.map((e=>{let{value:t,label:n,attributes:a}=e;return i.createElement("li",(0,r.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:p},a,{className:(0,o.Z)("tabs__item",v,null==a?void 0:a.className,{"tabs__item--active":l===t})}),n??t)})))}function k(e){let{lazy:t,children:n,selectedValue:r}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function w(e){const t=f(e);return i.createElement("div",{className:(0,o.Z)("tabs-container",y)},i.createElement(g,(0,r.Z)({},e,t)),i.createElement(k,(0,r.Z)({},e,t)))}function E(e){const t=(0,b.Z)();return i.createElement(w,(0,r.Z)({key:String(t)},e))}},4334:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var r=n(7462),i=(n(7294),n(3905)),o=n(4866),a=n(5162);const l={sidebar_position:1,sidebar_class_name:"sidebar-item-redis",sidebar_label:"Redis compatibility client",pagination_prev:null,title:"Redis compatibility client",description:"Quickly switch from using Redis to Momento Cache with these drop in replacement client libraries"},s="Redis compatibility client for Momento Cache and Momento Topics",c={unversionedId:"develop/sdks-integrations/redis-client-compatibility",id:"develop/sdks-integrations/redis-client-compatibility",title:"Redis compatibility client",description:"Quickly switch from using Redis to Momento Cache with these drop in replacement client libraries",source:"@site/docs/develop/sdks-integrations/redis-client-compatibility.md",sourceDirName:"develop/sdks-integrations",slug:"/develop/sdks-integrations/redis-client-compatibility",permalink:"/develop/sdks-integrations/redis-client-compatibility",draft:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/develop/sdks-integrations/redis-client-compatibility.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_class_name:"sidebar-item-redis",sidebar_label:"Redis compatibility client",pagination_prev:null,title:"Redis compatibility client",description:"Quickly switch from using Redis to Momento Cache with these drop in replacement client libraries"},sidebar:"tutorialSidebar",next:{title:"Laravel",permalink:"/develop/sdks-integrations/momento-cache-laravel-php"}},u={},d=[{value:"Current Redis API Support",id:"current-redis-api-support",level:2},{value:"Comparison of Redis client and Redis compatibility client",id:"comparison-of-redis-client-and-redis-compatibility-client",level:2}],p={toc:d};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"redis-compatibility-client-for-momento-cache-and-momento-topics"},"Redis compatibility client for Momento Cache and Momento Topics"),(0,i.kt)("p",null,"Do you have existing apps that use a Redis cache, but now you're trading up to Momento\u2019s services? With Redis compatibility clients, there's no need to refactor your code. Instead, compatibility clients are a drop-in replacement for existing Redis clients. Change your client library to the compatibility client, change the connection information, and the core of your code stays the same."),(0,i.kt)("p",null,"This client facilitates you using Momento Cache as your cache engine for any node.js frameworks that support a redis-backed cache, such as ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/expressjs/express"},"Express.js"),". See the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/momentohq/momento-node-redis-client#examples"},"examples section")," for more info."),(0,i.kt)("h2",{id:"current-redis-api-support"},"Current Redis API Support"),(0,i.kt)("p",null,"This library does not yet support all Redis APIs. We currently support the most common APIs related to string values (GET, SET, etc.) and hash values (HGETALL, HSET, etc.). We will be adding support for additional APIs in the future. If there is a particular API that you need support for, please drop by our ",(0,i.kt)("a",{parentName:"p",href:"https://discord.com/invite/3HkAKjUZGq"},"Discord")," or e-mail ",(0,i.kt)("a",{parentName:"p",href:"mailto:support@momentohq.com"},"Momento Support")," and let us know!"),(0,i.kt)("p",null,"In the meantime, if you call a method from the ",(0,i.kt)("inlineCode",{parentName:"p"},"@redis/client")," API that we do not yet support, you will get a ",(0,i.kt)("inlineCode",{parentName:"p"},"TypeError")," letting you know that the method is not implemented yet."),(0,i.kt)("h2",{id:"comparison-of-redis-client-and-redis-compatibility-client"},"Comparison of Redis client and Redis compatibility client"),(0,i.kt)("p",null,"Below is a side by side comparison of the redis client code on the left and Momento's Redis compatibility client on the right. To switch your existing ",(0,i.kt)("inlineCode",{parentName:"p"},"@redis/client")," application to use Momento Cache, you only need to change the code where you construct your client object:"),(0,i.kt)(o.Z,{mdxType:"Tabs"},(0,i.kt)(a.Z,{value:"nodejs",label:"Node.js",default:!0,mdxType:"TabItem"},(0,i.kt)("table",null,(0,i.kt)("tr",null,(0,i.kt)("td",{width:"50%"},"With node-redis client"),(0,i.kt)("td",{width:"50%"},"With Momento's Redis compatibility client")),(0,i.kt)("tr",null,(0,i.kt)("td",{width:"50%",valign:"top"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Import the redis module\nimport { createClient } from 'redis';\n\n// Replace these values with your Redis server's details\nconst REDIS_HOST = 'my.redis-server.com';\nconst REDIS_PORT = 6379;\nconst REDIS_PASSWORD = 'mypasswd';\n\n// Create a Redis client\nconst redisClient = redis.createClient({\n    url: 'redis://${REDIS_HOST}:${REDIS_PORT}',\n    password: REDIS_PASSWORD\n});\n\n"))),(0,i.kt)("td",{width:"50%"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Import the Momento redis compatibility client.\nimport {createClient, momento} from '@gomomento-poc/node-redis-client';\n\n// Initialize Momento's client.\nconst redisClient = createClient(\n  new momento.CacheClient({\n    configuration: momento.Configurations.Laptop.v1(),\n    credentialProvider: momento.CredentialProvider.fromEnvironmentVariable({\n      environmentVariableName: 'MOMENTO_AUTH_TOKEN',\n    }),\n    defaultTtlSeconds: 60,\n  }),\n  'cache_name'\n);\n\n"))))),(0,i.kt)("p",null,"For more in-depth information, with example code, please see the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/momentohq/momento-node-redis-client#momento-nodejs-redis-client"},"Momento Node.js Redis compatibility client on GitHub"),"."))))}m.isMDXComponent=!0}}]);